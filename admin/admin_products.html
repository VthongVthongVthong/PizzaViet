<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/admin_products.css">
    <link rel="stylesheet" href="css/css_admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
    <title>Sản phẩm</title>
    <link rel="icon" href=
		"../img/pizza (2).png"
    type="image"/>
</head>
<body>
   <div class="sidebar">
  <div class="sidebar-brand">
    <a href="admin.html"><img src="../img/logo2.png" alt=""></a>
  </div>
  <div class="sidebar-menu">
    <ul>
      <li>
        <a href="admin_users.html"><span><i class="fa-solid fa-users-line"></i></span>
          <span> Người dùng</span></a>
      </li>
      <li>
        <a href="order_manager.html"><span><i class="nav-icon fa fa-shopping-cart"></i></span>
          <span>Quản lí đơn hàng</span>
        </a>
      </li>
      <li>
        <a href="analyze.html"><span><i class="fa-solid fa-chart-simple"></i></span>
          <span> Thống kê </span></a>
      </li>
      <li class="active" onclick="toggleProductOptions()">
        <a href="javascript:void(0)"><span><i class="fa-solid fa-list"></i></span>
          <span>Sản phẩm</span></a>
      </li>
      <ul class="product-options" id="productOptions" style="display: none;">
        <li><a href="delete_products.html" >Danh sách sản phẩm</a></li>
        <li><a href="admin_products.html" >Thêm sản phẩm</a></li>
      </ul>
      <li>
        <a href="#"><span><i class="fa-solid fa-gear"></i></span>
          <span>Cài đặt</span></a>
      </li>
      <li>
        <a href="#"><span class="fa-solid fa-plus"></span>
          <span>Đăng nhập mới</span></a>
      </li>
      <li>
        <a href="admin_index.html"><span class="fa-solid fa-right-from-bracket"></span>
          <span>Đăng xuất</span></a>
      </li>
    </ul>
  </div>
</div>
    <main>
        <div class="content-wrapper_products">
            <div class="sec-center_users">
                <div class="container-account">
                    <h1>Danh sách sản phẩm</h1>
                    <div class="account">
                        <div class="text">
                            <h2>Long</h2>
                            <h5>Admin</h5>
                        </div>
                        <a href="#"><img src="../img/avatar_LongMongGa.png" alt=""></a>
                    </div>
                </div>
                <div class="form-wrapper">
                    <div class="form_them">
                        <h1>THÊM SẢN PHẨM</h1>
                        <form 
                            action="process_add_product.php" 
                            method="POST" 
                            enctype="multipart/form-data"
                        >
                          <div class="horizontal-line"></div>
                          <div class="group">
                              <div class="form-group">
                                  <label for="name"><i class='bx bxs-barcode'></i> Mã sản phẩm:</label>
                                  <!-- Mã sản phẩm -->
                                  <input type="text" id="masp" name="masp" class="form-control" placeholder="Nhập mã sản phẩm">
                              </div>
                              <div class="form-group">
                                  <label for="name"><i class="fa-solid fa-tag"></i> Tên sản phẩm:</label>
                                  <!-- Tên sản phẩm -->
                                  <input type="text" id="name" name="name" class="form-control" placeholder="Nhập tên sản phẩm">
                              </div>
                              <div class="form-group">
                                  <label for="price"><i class="fa-solid fa-dollar-sign"></i> Giá:</label>
                                  <!-- Giá sản phẩm -->
                                  <input type="text" id="price" name="price" class="form-control" placeholder="Nhập giá sản phẩm">
                              </div>
                              <div class="form-group">
                                <label for="tinhtrang"><i class="fa-solid fa-info-circle"></i> Tình trạng:</label>
                                <!-- Tình trạng -->
                                <select id="tinhtrang" name="tinhtrang" class="form-control">
                                  <option value="" selected hidden>-- Chọn tình trạng --</option>
                                  <option value="con_hang">Còn hàng</option>
                                  <option value="het_hang">Hết hàng</option>
                                </select>
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="pic"><i class="fa-solid fa-image"></i> Thêm ảnh sản phẩm:</label>
                          
                            <!-- INPUT ẨN nhưng CÓ NAME để gửi file -->
                            <input 
                                type="file" 
                                id="pic" 
                                name="product_image" 
                                class="file-input" 
                                accept="image/*" 
                                style="display: none;"
                            >
                          
                            <!-- Nút chọn ảnh -->
                            <button type="button" class="btn" onclick="document.getElementById('pic').click()">Chọn ảnh</button>
                          
                            <!-- Hiển thị tên file -->
                            <p id="fileName" class="file-name">Chưa chọn ảnh</p>
                          
                            <!-- Ảnh xem trước căn giữa -->
                            <div style="text-align: center; margin-top: 10px;">
                              <img id="preview" style="max-width: 200px; display: block; margin:auto; border-radius: 10px;" />
                            </div>
                            
                          </div>     
                        
                          <div class="form-group">
                              <label for="longText"><i class="fa-solid fa-pencil-alt"></i> Mô tả sản phẩm:</label>
                              <!-- Mô tả sản phẩm -->
                              <textarea id="longText" name="description" rows="4" class="form-control" placeholder="Nhập mô tả sản phẩm"></textarea>

                          </div>
                          <button type="submit" class="btn">Thêm sản phẩm</button>
                          <button type="button" class="btn cancel-btn" onclick="window.location.href='admin.html'">Hủy</button>
                        </form>
                        <script>
                            const fileInput = document.getElementById('pic');
                            const fileName = document.getElementById('fileName');
                            const preview = document.getElementById('preview');

                            fileInput.addEventListener('change', function() {
                                const file = this.files[0];
                                if (file) {
                                    fileName.textContent = "Hình ảnh đã được chọn";
                                    fileName.style.textAlign = "center";
                                    const reader = new FileReader();
                                    reader.onload = function(e) {
                                        preview.src = e.target.result;
                                        preview.style.display = 'block';
                                    }
                                    reader.readAsDataURL(file);
                                } else {
                                    fileName.textContent = 'Chưa chọn ảnh';
                                    fileName.style.textAlign = "center";
                                    preview.style.display = 'none';
                                }
                            });
                        </script>     
                    </div>
                </div>
            </div>
        </div>
        </main>
    </div>
   <script src="js/developing_content.js"></script>
   <script src="js/products.js" ></script>
   <script src="../js/outsidesrc/sweetalert2.min.js"></script>
   <script src="js/admin_logout.js"></script>
   <script>
    const tinhtrang = document.getElementById('tinhtrang');
    tinhtrang.addEventListener('change', function () {
        if (this.value) {
            this.classList.add('changed');
        } else {
            this.classList.remove('changed');
        }
    });
</script>
</body>
</html>
